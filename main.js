(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}const t=function(){function t(e){var n=e.baseUrl,o=e.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._baseUrl=n,this._headers=o}var n,o;return n=t,(o=[{key:"_addCommonFetchForAllApis",value:function(e,t){return fetch(e,t).then((function(e){return e.ok?e.json():Promise.reject("Возникла ошибка: ".concat(e.status))}))}},{key:"getInitialCards",value:function(){return this._addCommonFetchForAllApis("".concat(this._baseUrl,"/cards"),{method:"GET",headers:this._headers})}},{key:"addNewCard",value:function(e){return this._addCommonFetchForAllApis("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link,id:e._id})})}},{key:"deleteCard",value:function(e){return this._addCommonFetchForAllApis("".concat(this._baseUrl,"/cards/").concat(e._id),{method:"DELETE",headers:this._headers,body:JSON.stringify()})}},{key:"addLikeCard",value:function(e){return this._addCommonFetchForAllApis("".concat(this._baseUrl,"/cards/likes/").concat(e._id),{method:"PUT",headers:this._headers,body:JSON.stringify()})}},{key:"deleteLikeCard",value:function(e){return this._addCommonFetchForAllApis("".concat(this._baseUrl,"/cards/likes/").concat(e._id),{method:"DELETE",headers:this._headers,body:JSON.stringify()})}},{key:"getUserInfoAbout",value:function(){return this._addCommonFetchForAllApis("".concat(this._baseUrl,"/users/me"),{method:"GET",headers:this._headers})}},{key:"changeInfo",value:function(e){return this._addCommonFetchForAllApis("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})})}},{key:"changeUserAvatar",value:function(e){return this._addCommonFetchForAllApis("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.avatar})})}}])&&e(n.prototype,o),t}();function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}const o=function(){function e(t,n,o){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=n.data.name,this._link=n.data.link,this._cardLikes=n.data.likes,this._ownerId=n.data.owner,this._handleCardClick=n.handleCardClick,this._handleLikeClick=n.handleLikeClick,this._handleDislikeCard=n.handleDislikeCard,this._handleDeleteClick=n.handleDeleteClick,this._userId=t,this._cardSelector=o,this._liked=n.data.likes.some((function(e){return e._id===r._userId}))}var t,o;return t=e,(o=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".element__card").cloneNode(!0)}},{key:"generateCard",value:function(){return this._htmlElement=this._getTemplate(),this._elImg=this._htmlElement.querySelector(".element__img"),this._elName=this._htmlElement.querySelector(".element__name"),this._elLike=this._htmlElement.querySelector(".element__like"),this._elBasket=this._htmlElement.querySelector(".element__basket"),this._elLikeNumber=this._htmlElement.querySelector(".element__like-number"),this._elImg.src=this._link,this._elName.innerText=this._name,this._elImg.alt=this._name,this._setEventListeners(),this._checkId(),this._yourCard||this._elBasket.remove(),this._elLikeNumber.innerText=this._cardLikes.length,this._htmlElement}},{key:"_checkId",value:function(){this._userId===this._ownerId._id?this._yourCard=!0:this._yourCard=!1}},{key:"setLikes",value:function(e){this._htmlElement.querySelector(".element__like-number").innerText=e}},{key:"_renderLikeButton",value:function(e){e?this._htmlElement.querySelector(".element__like").classList.add("element__like_active"):this._htmlElement.querySelector(".element__like").classList.remove("element__like_active")}},{key:"getLikes",value:function(e){this._liked=!this._liked,this.setLikes(e.likes.length),this._renderLikeButton(this._liked)}},{key:"_handleLike",value:function(){this._liked?this._handleDislikeCard():this._handleLikeClick()}},{key:"removeCard",value:function(){this._htmlElement.remove(),this._htmlElement=null}},{key:"_setEventListeners",value:function(){var e=this;this._htmlElement.querySelector(".element__like").addEventListener("click",this._handleLike.bind(this)),this._htmlElement.querySelector(".element__basket").addEventListener("click",(function(){e._handleDeleteClick()})),this._htmlElement.querySelector(".element__img").addEventListener("click",(function(){e._handleCardClick({name:e._name,link:e._link})}))}}])&&n(t.prototype,o),e}();function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}const i=function(){function e(t,n){var o,r,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=function(){i._popupForm.addEventListener("submit",(function(e){e.preventDefault(),i._disableAdd()})),i._setEventListeners()},(o="enableValidation")in this?Object.defineProperty(this,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[o]=r,this._popupInputForm=n,this._popupForm=document.querySelector(n),this._popupAboutForm=t.popupAboutForm,this._popupSubmitForm=t.popupSubmitForm,this._popupSubmitInactiveForm=t.popupSubmitInactiveForm,this._popupAboutErrorForm=t.popupAboutErrorForm,this._popupAboutRedLineForm=t.popupAboutRedLineForm,this._inputList=Array.from(this._popupForm.querySelectorAll(this._popupAboutForm)),this._buttonElement=this._popupForm.querySelector(this._popupSubmitForm)}var t,n;return t=e,(n=[{key:"_showInputError",value:function(e,t){var n=this._popupForm.querySelector("#".concat(e.id,"-error"));e.classList.add(this._popupAboutRedLineForm),n.innerText=t,n.classList.add(this._popupAboutErrorForm)}},{key:"_hideInputError",value:function(e){var t=this._popupForm.querySelector("#".concat(e.id,"-error"));e.classList.remove(this._popupAboutRedLineForm),t.classList.remove(this._popupAboutErrorForm),t.innerText=""}},{key:"_getErrorMessage",value:function(e){return e.validationMessage}},{key:"_checkInputValidity",value:function(e){if(e.validity.valid)this._hideInputError(e);else{var t=this._getErrorMessage(e);this._showInputError(e,t)}}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_disableAdd",value:function(){this._buttonElement.classList.add(this._popupSubmitInactiveForm),this._buttonElement.setAttribute("disabled","true")}},{key:"_disableRemove",value:function(){this._buttonElement.classList.remove(this._popupSubmitInactiveForm),this._buttonElement.removeAttribute("disabled")}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this._disableAdd():this._disableRemove()}},{key:"_setEventListeners",value:function(){var e=this;this._toggleButtonState(this._inputList),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState(e._inputList)}))}))}}])&&r(t.prototype,n),e}();function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}const u=function(){function e(t,n){var o=t.items,r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._items=o,this._selector=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(e){var t=this;e.forEach((function(e){t._renderer(e)}))}},{key:"addItem",value:function(e){this._selector.prepend(e)}}])&&a(t.prototype,n),e}();function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}const l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._modalWindow=t,this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"open",value:function(){this._modalWindow.classList.add("popup_is-open"),document.addEventListener("keyup",this._handleEscClose)}},{key:"close",value:function(){this._modalWindow.classList.remove("popup_is-open"),document.removeEventListener("keyup",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._modalWindow.addEventListener("click",(function(t){(t.target.classList.contains("popup__container")||t.target.classList.contains("popup__close")||t.target===t.currentTarget)&&e.close()}))}}])&&c(t.prototype,n),e}();function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function f(e,t,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(a,e);var t,n,o,r,i=(o=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_(o);if(r){var n=_(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._popupPhotoBig=t._modalWindow.querySelector(".popup__photo-big"),t._popupPhotoEdit=t._modalWindow.querySelector(".popup__photo-edit"),t}return t=a,(n=[{key:"open",value:function(e){this._popupPhotoBig.src=e.link,this._popupPhotoBig.alt=e.item,this._popupPhotoEdit.innerText=e.item,f(_(a.prototype),"open",this).call(this)}}])&&p(t.prototype,n),a}(l);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function v(e,t,n){return(v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=S(e)););return e}(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(a,e);var t,n,o,r,i=(o=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=S(o);if(r){var n=S(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return g(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._formSubmitHandler=t,n._formForPopup=n._modalWindow.querySelector(".popup__input"),n}return t=a,(n=[{key:"_getInputValues",value:function(){var e=this;return this._popupAbout=this._formForPopup.querySelectorAll(".popup__about"),this._popupForm={},this._popupAbout.forEach((function(t){return e._popupForm[t.name]=t.value})),this._popupForm}},{key:"setEventListeners",value:function(){var e=this;this._modalWindow.addEventListener("submit",(function(t){t.preventDefault(),e._formSubmitHandler(e._getInputValues())})),v(S(a.prototype),"setEventListeners",this).call(this)}},{key:"close",value:function(){v(S(a.prototype),"close",this).call(this),this._formForPopup.reset()}}])&&b(t.prototype,n),a}(l);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function C(e,t,n){return(C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=A(e)););return e}(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(a,e);var t,n,o,r,i=(o=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=A(o);if(r){var n=A(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return F(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._formSubmitHandler=t,n}return t=a,(n=[{key:"setEventListeners",value:function(){var e=this;C(A(a.prototype),"setEventListeners",this).call(this),this._modalWindow.querySelector(".popup__submit").addEventListener("click",(function(t){t.preventDefault(),e._formSubmitHandler()}))}},{key:"setFormSubmitHandler",value:function(e){this._formSubmitHandler=e}}])&&L(t.prototype,n),a}(l);function P(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}const T=function(){function e(t){var n=t.name,o=t.about,r=t.avatar;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=n,this._occupation=o,this._avatar=r,this._userInfo={}}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._name.innerText,occupation:this._occupation.innerText}}},{key:"setUserInfo",value:function(e){e.name&&(this._name.innerText=e.name),e.about&&(this._occupation.innerText=e.about),e.avatar&&(this._avatar.src=e.avatar)}}])&&P(t.prototype,n),e}();function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var q,R=new t({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-17",headers:{authorization:"8332b55f-19df-4a02-8ae6-2a849ecc3e1d","Content-Type":"application/json"}}),x={popupInputForm:".popup__input",popupAboutForm:".popup__about",popupSubmitForm:".popup__submit",popupSubmitInactiveForm:"popup__submit_inactive",popupInputName:".popup__input_name",popupInputPhotoCard:".popup__input_photo-card",popupInputNewAvatar:".popup__input_new-avatar",popupAboutErrorForm:"popup__about-error",popupAboutRedLineForm:"popup__about_red-line"},U=document.querySelector(".popup__photo-big-card"),D=document.querySelector(".popup__photo-delete"),N=document.querySelector(".popup__photo-delete_container"),B=document.querySelector(".popup_photo-card"),H=document.querySelector(".popup__submit_photo-card"),W=document.querySelector(".popup_name"),V=document.querySelector(".popup__submit_name"),J=document.querySelector(".popup__about_name"),M=document.querySelector(".popup__about_occupation_name"),G=document.querySelector(".popup__new-avatar"),z=document.querySelector(".popup__submit_new-avatar"),$=document.querySelector(".profile__add-button"),K=document.querySelector(".profile__edit-button"),Q=document.querySelector(".profile__avatar");Promise.all([R.getInitialCards(),R.getUserInfoAbout()]).then((function(e){var t,n,o=(n=3,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,r=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(o=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{o||null==u.return||u.return()}finally{if(r)throw i}}return n}}(t,n)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=o[0],i=o[1],a=o[2];q=i._id,X.setUserInfo(i,a),Y.renderItems(r)})).catch((function(e){console.log("Ошибка при попытке загрузить данные пользователя и карточки: ".concat(e))}));var X=new T({name:document.querySelector(".profile__name"),about:document.querySelector(".profile__occupation"),avatar:document.querySelector(".profile__avatar-img")}),Y=new u({element:[],renderer:function(e){var t=ee(e).generateCard();Y.addItem(t)}},".elements"),Z=new I(D),ee=function(e){var t=new o(q,{data:e,handleCardClick:function(e){ne.open(e)},handleLikeClick:function(){R.addLikeCard(e).then((function(e){t.getLikes(e)})).catch((function(e){return console.log("Ошибка при добавлении лайка: ".concat(e))}))},handleDislikeCard:function(){R.deleteLikeCard(e).then((function(e){t.getLikes(e)})).catch((function(e){return console.log("Ошибка при удалении лайка: ".concat(e))}))},handleDeleteClick:function(){Z.setFormSubmitHandler((function(){N.innerText="Удаление...",R.deleteCard(e).then((function(){Z.close(),N.innerText="Да",t.removeCard()})).catch((function(e){return console.log("Ошибка при удалении карточки: ".concat(e))}))})),Z.setEventListeners(),Z.open()}},".element");return t};new m(U).setEventListeners();var te=new E(B,(function(e){H.innerText="Сохранение...",R.addNewCard({name:e.name,link:e.about}).then((function(e){var t=ee(e).generateCard();H.innerText="Сохранить",te.close(),Y.addItem(t)})).catch((function(e){return console.log("Ошибка при добавлении карточки: ".concat(e))}))}));te.setEventListeners(),$.addEventListener("click",(function(){te.open()}));var ne=new m(U);ne.setEventListeners();var oe=new E(W,(function(e){V.innerText="Сохранение...",R.changeInfo(e).then((function(e){X.setUserInfo({name:e.name,about:e.about}),V.innerText="Сохранить",oe.close()})).catch((function(e){return console.log("Ошибка при изменении данных профиля: ".concat(e))}))}));oe.setEventListeners(),K.addEventListener("click",(function(){var e=X.getUserInfo(),t=e.name,n=e.occupation;J.value=t,M.value=n,oe.open()}));var re=new E(G,(function(e){z.innerText="Сохранение...",R.changeUserAvatar(e).then((function(e){X.setUserInfo({avatar:e.avatar}),z.innerText="Сохранить",re.close()})).catch((function(e){return console.log("Ошибка при изменении аватара: ".concat(e))}))}));re.setEventListeners(),Q.addEventListener("click",(function(){re.open()}));var ie=new i(x,x.popupInputName),ae=new i(x,x.popupInputPhotoCard),ue=new i(x,x.popupInputNewAvatar);ie.enableValidation(),ae.enableValidation(),ue.enableValidation()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL9ChYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aFN1Ym1pdC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sIm5hbWVzIjpbImJhc2VVcmwiLCJoZWFkZXJzIiwidGhpcyIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJ1cmwiLCJpbml0IiwiZmV0Y2giLCJ0aGVuIiwicmVzcG9uc2UiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiX2FkZENvbW1vbkZldGNoRm9yQWxsQXBpcyIsIm1ldGhvZCIsImNhcmQiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsIm5hbWUiLCJsaW5rIiwiaWQiLCJfaWQiLCJ1c2VyRGF0YSIsImFib3V0IiwiaW1nU3JjIiwiYXZhdGFyIiwidXNlcklkIiwidmFsdWVzIiwiY2FyZFNlbGVjdG9yIiwiX25hbWUiLCJkYXRhIiwiX2xpbmsiLCJfY2FyZExpa2VzIiwibGlrZXMiLCJfb3duZXJJZCIsIm93bmVyIiwiX2hhbmRsZUNhcmRDbGljayIsImhhbmRsZUNhcmRDbGljayIsIl9oYW5kbGVMaWtlQ2xpY2siLCJoYW5kbGVMaWtlQ2xpY2siLCJfaGFuZGxlRGlzbGlrZUNhcmQiLCJoYW5kbGVEaXNsaWtlQ2FyZCIsIl9oYW5kbGVEZWxldGVDbGljayIsImhhbmRsZURlbGV0ZUNsaWNrIiwiX3VzZXJJZCIsIl9jYXJkU2VsZWN0b3IiLCJfbGlrZWQiLCJzb21lIiwidXNlciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfaHRtbEVsZW1lbnQiLCJfZ2V0VGVtcGxhdGUiLCJfZWxJbWciLCJfZWxOYW1lIiwiX2VsTGlrZSIsIl9lbEJhc2tldCIsIl9lbExpa2VOdW1iZXIiLCJzcmMiLCJpbm5lclRleHQiLCJhbHQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJfY2hlY2tJZCIsIl95b3VyQ2FyZCIsInJlbW92ZSIsImxlbmd0aCIsImxpa2VkIiwiY2xhc3NMaXN0IiwiYWRkIiwic2V0TGlrZXMiLCJfcmVuZGVyTGlrZUJ1dHRvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlTGlrZSIsImJpbmQiLCJlbmFibGVWYWxpZGF0aW9uRm9ybSIsInBvcHVwSW5wdXRGb3JtIiwiX3BvcHVwRm9ybSIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJfZGlzYWJsZUFkZCIsIl9wb3B1cElucHV0Rm9ybSIsIl9wb3B1cEFib3V0Rm9ybSIsInBvcHVwQWJvdXRGb3JtIiwiX3BvcHVwU3VibWl0Rm9ybSIsInBvcHVwU3VibWl0Rm9ybSIsIl9wb3B1cFN1Ym1pdEluYWN0aXZlRm9ybSIsInBvcHVwU3VibWl0SW5hY3RpdmVGb3JtIiwiX3BvcHVwQWJvdXRFcnJvckZvcm0iLCJwb3B1cEFib3V0RXJyb3JGb3JtIiwiX3BvcHVwQWJvdXRSZWRMaW5lRm9ybSIsInBvcHVwQWJvdXRSZWRMaW5lRm9ybSIsIl9pbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiX2J1dHRvbkVsZW1lbnQiLCJwb3B1cEFib3V0IiwiZXJyb3JNZXNzYWdlIiwicG9wdXBFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9nZXRFcnJvck1lc3NhZ2UiLCJfc2hvd0lucHV0RXJyb3IiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJfaGFzSW52YWxpZElucHV0IiwiX2Rpc2FibGVSZW1vdmUiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJmb3JFYWNoIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsInNlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9yZW5kZXJlciIsIl9pdGVtcyIsIl9zZWxlY3RvciIsImVsZW1lbnRzIiwiZWxlbWVudCIsInByZXBlbmQiLCJtb2RhbFdpbmRvdyIsIl9tb2RhbFdpbmRvdyIsIl9oYW5kbGVFc2NDbG9zZSIsImtleSIsImNsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInRhcmdldCIsImNvbnRhaW5zIiwiY3VycmVudFRhcmdldCIsIl9wb3B1cFBob3RvQmlnIiwiX3BvcHVwUGhvdG9FZGl0IiwiaXRlbSIsIlBvcHVwIiwiZm9ybVN1Ym1pdEhhbmRsZXIiLCJfZm9ybVN1Ym1pdEhhbmRsZXIiLCJfZm9ybUZvclBvcHVwIiwiX3BvcHVwQWJvdXQiLCJpbnB1dCIsInZhbHVlIiwiX2dldElucHV0VmFsdWVzIiwicmVzZXQiLCJoYW5kbGUiLCJfb2NjdXBhdGlvbiIsIl9hdmF0YXIiLCJfdXNlckluZm8iLCJvY2N1cGF0aW9uIiwiYXBpIiwiQXBpIiwiYXV0aG9yaXphdGlvbiIsInBvcHVwSW5wdXROYW1lIiwicG9wdXBJbnB1dFBob3RvQ2FyZCIsInBvcHVwSW5wdXROZXdBdmF0YXIiLCJwb3B1cFBob3RvQmlnQ2FyZCIsInBvcHVwUGhvdG9EZWxldGUiLCJwb3B1cFBob3RvRGVsZXRlQ29udGFpbmVyIiwicG9wdXBQaG90b0NhcmQiLCJwb3B1cFN1Ym1pdFBob3RvQ2FyZCIsInBvcHVwTmFtZSIsInBvcHVwU3VibWl0TmFtZSIsInBvcHVwQWJvdXROYW1lIiwicG9wdXBBYm91dE9jY3VwYXRpb25OYW1lIiwicG9wdXBOZXdBdmF0YXIiLCJwb3B1cFN1Ym1pdE5ld0F2YXRhciIsInByb2ZpbGVBZGRCdXR0b24iLCJwcm9maWxlRWRpdEJ1dHRvbiIsInByb2ZpbGVBdmF0YXIiLCJhbGwiLCJnZXRJbml0aWFsQ2FyZHMiLCJnZXRVc2VySW5mb0Fib3V0IiwidXNlckluZm8iLCJzZXRVc2VySW5mbyIsInNlY3Rpb24iLCJyZW5kZXJJdGVtcyIsImVycm9yIiwiY29uc29sZSIsImxvZyIsIlVzZXJJbmZvIiwiU2VjdGlvbiIsImNhcmRFbGVtZW50IiwiY3JlYXRlQ2FyZENvcHkiLCJnZW5lcmF0ZUNhcmQiLCJhZGRJdGVtIiwicG9wdXBXaXRoU3VibWl0IiwiUG9wdXBXaXRoU3VibWl0IiwiY2FyZENvcHkiLCJDYXJkIiwicG9wdXBXaXRoSW1hZ2VCb3giLCJvcGVuIiwiYWRkTGlrZUNhcmQiLCJnZXRMaWtlcyIsImRlbGV0ZUxpa2VDYXJkIiwic2V0Rm9ybVN1Ym1pdEhhbmRsZXIiLCJkZWxldGVDYXJkIiwicmVtb3ZlQ2FyZCIsInNldEV2ZW50TGlzdGVuZXJzIiwiUG9wdXBXaXRoSW1hZ2UiLCJwb3B1cFdpdGhGb3JtQ2FyZCIsIlBvcHVwV2l0aEZvcm0iLCJhZGROZXdDYXJkIiwiY2FyZE9iamVjdCIsInBvcHVwV2l0aEZvcm0iLCJjaGFuZ2VJbmZvIiwicmVzdWx0IiwiZ2V0VXNlckluZm8iLCJwb3B1cFdpdGhGb3JtQXZhdGFyIiwiY2hhbmdlVXNlckF2YXRhciIsImZvcm1WYWxpZGF0b3JOZXciLCJGb3JtVmFsaWRhdG9yIiwiZm9ybVZhbGlkYXRvckNhcmQiLCJmb3JtVmFsaWRhdG9yQXZhdGFyIiwiZW5hYmxlVmFsaWRhdGlvbiJdLCJtYXBwaW5ncyI6InlMQW1HQSxRLFdBbEdJLGNBQWdDLElBQW5CQSxFQUFtQixFQUFuQkEsUUFBU0MsRUFBVSxFQUFWQSxTLDRGQUFVLFNBQ2hDQyxLQUFLQyxTQUFXSCxFQUNoQkUsS0FBS0Us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QXNCQSxFQUFxQjZFLHFCQUNqRjJELEdBQXNCLElBQUlGLEVBQWN0SSxFQUFzQkEsRUFBcUI4RSxxQkFFekZ1RCxHQUFpQkksbUJBQ2pCRixHQUFrQkUsbUJBQ2xCRCxHQUFvQkMsb0IiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNsYXNzIEFwaSB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7YmFzZVVybCwgaGVhZGVyc30pIHtcclxuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xyXG4gICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XHJcbiAgICB9XHJcblxyXG4gICAgX2FkZENvbW1vbkZldGNoRm9yQWxsQXBpcyh1cmwsIGluaXQpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2godXJsLCBpbml0KVxyXG4gICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQktC+0LfQvdC40LrQu9CwINC+0YjQuNCx0LrQsDogJHtyZXNwb25zZS5zdGF0dXN9YClcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIFxyXG4gICAgLy/Qn9C+0LvRg9GH0LjRgtGMINC60LDRgNGC0L7Rh9C60Lgg0YEg0YHQtdGA0LLQtdGA0LBcclxuICAgIGdldEluaXRpYWxDYXJkcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ29tbW9uRmV0Y2hGb3JBbGxBcGlzKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIC8v0JHQu9C+0Log0YDQsNCx0L7RgtGLINGBINC60LDRgNGC0L7Rh9C60LDQvNC4XHJcbiAgICAvL9CU0L7QsdCw0LLQu9C10L3QuNC1INC60LDRgNGC0L7Rh9C60LhcclxuICAgIGFkZE5ld0NhcmQoY2FyZCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDb21tb25GZXRjaEZvckFsbEFwaXMoYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBjYXJkLm5hbWUsXHJcbiAgICAgICAgICAgICAgICBsaW5rOiBjYXJkLmxpbmssXHJcbiAgICAgICAgICAgICAgICBpZDogY2FyZC5faWQsXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvL9Cj0LTQsNC70LXQvdC40LUg0LrQsNGA0YLQvtGH0LrQuFxyXG4gICAgZGVsZXRlQ2FyZChjYXJkKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENvbW1vbkZldGNoRm9yQWxsQXBpcyhgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmQuX2lkfWAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoKVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8v0JvQsNC50Log0LrQsNGA0YLQuNC90LrQtVxyXG4gICAgYWRkTGlrZUNhcmQoY2FyZCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDb21tb25GZXRjaEZvckFsbEFwaXMoYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtjYXJkLl9pZH1gLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KClcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvL9Cj0LTQsNC70LXQvdC40LUg0LvQsNC50Log0LrQsNGA0YLQuNC90LrQtVxyXG4gICAgZGVsZXRlTGlrZUNhcmQoY2FyZCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDb21tb25GZXRjaEZvckFsbEFwaXMoYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtjYXJkLl9pZH1gLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KClcclxuICAgICAgICB9KTtcclxuICAgIH0gXHJcblxyXG4gICAgLy/QkdC70L7QuiDRgNCw0LHQvtGC0Ysg0YEg0L/RgNC+0YTQuNC70LXQvFxyXG4gICAgLy/Qn9C+0LvRg9GH0LjRgtGMINC00LDQvdC90YvQtSDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cclxuICAgIGdldFVzZXJJbmZvQWJvdXQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENvbW1vbkZldGNoRm9yQWxsQXBpcyhgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvL9Cg0LXQtNCw0LrRgtC40YDQvtCy0LDRgtGMINC00LDQvdC90YvQtSDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cclxuICAgIGNoYW5nZUluZm8odXNlckRhdGEpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ29tbW9uRmV0Y2hGb3JBbGxBcGlzKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IHVzZXJEYXRhLm5hbWUsXHJcbiAgICAgICAgICAgICAgICBhYm91dDogdXNlckRhdGEuYWJvdXRcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KTsgXHJcbiAgICB9XHJcblxyXG4gICAgLy/QoNC10LTQsNC60YLQuNGA0L7QstCw0YLRjCDQsNCy0LDRgtCw0YAg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXHJcbiAgICBjaGFuZ2VVc2VyQXZhdGFyKGltZ1NyYyl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENvbW1vbkZldGNoRm9yQWxsQXBpcyhgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BBVENIJyxcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgYXZhdGFyOiBpbWdTcmMuYXZhdGFyXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEFwaTtcclxuIiwiY2xhc3MgQ2FyZCB7XHJcbiAgICBjb25zdHJ1Y3Rvcih1c2VySWQsIHZhbHVlcywgY2FyZFNlbGVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5fbmFtZSA9IHZhbHVlcy5kYXRhLm5hbWU7XHJcbiAgICAgICAgdGhpcy5fbGluayA9IHZhbHVlcy5kYXRhLmxpbms7ICAgIFxyXG4gICAgICAgIHRoaXMuX2NhcmRMaWtlcyA9IHZhbHVlcy5kYXRhLmxpa2VzOyBcclxuICAgICAgICB0aGlzLl9vd25lcklkID0gdmFsdWVzLmRhdGEub3duZXI7IFxyXG4gICAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IHZhbHVlcy5oYW5kbGVDYXJkQ2xpY2s7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrID0gdmFsdWVzLmhhbmRsZUxpa2VDbGljaztcclxuICAgICAgICB0aGlzLl9oYW5kbGVEaXNsaWtlQ2FyZCA9IHZhbHVlcy5oYW5kbGVEaXNsaWtlQ2FyZDtcclxuICAgICAgICB0aGlzLl9oYW5kbGVEZWxldGVDbGljayA9IHZhbHVlcy5oYW5kbGVEZWxldGVDbGljaztcclxuICAgICAgICB0aGlzLl91c2VySWQgPSB1c2VySWQ7XHJcbiAgICAgICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xyXG4gICAgICAgIHRoaXMuX2xpa2VkID0gdmFsdWVzLmRhdGEubGlrZXMuc29tZSgodXNlcikgPT4gdXNlci5faWQgPT09IHRoaXMuX3VzZXJJZCk7XHJcbiAgICB9XHJcblxyXG4gICAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgICAgIGNvbnN0IHJlbmRlckVsZW1lbnQgPSBkb2N1bWVudFxyXG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcclxuICAgICAgICAuY29udGVudFxyXG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fY2FyZCcpXHJcbiAgICAgICAgLmNsb25lTm9kZSh0cnVlKTsgXHJcblxyXG4gICAgICAgIHJldHVybiByZW5kZXJFbGVtZW50O1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvL9Ch0LHQvtGAINC60LDRgNGC0L7Rh9C60LhcclxuICAgIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgICAgICB0aGlzLl9odG1sRWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcbiAgICAgICAgdGhpcy5fZWxJbWcgPSB0aGlzLl9odG1sRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9faW1nJyk7XHJcbiAgICAgICAgdGhpcy5fZWxOYW1lID0gdGhpcy5faHRtbEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX25hbWUnKTtcclxuICAgICAgICB0aGlzLl9lbExpa2UgPSB0aGlzLl9odG1sRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fbGlrZScpO1xyXG4gICAgICAgIHRoaXMuX2VsQmFza2V0ID0gdGhpcy5faHRtbEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2Jhc2tldCcpO1xyXG4gICAgICAgIHRoaXMuX2VsTGlrZU51bWJlciA9IHRoaXMuX2h0bWxFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19saWtlLW51bWJlcicpO1xyXG4gICAgXHJcbiAgICAgICAgdGhpcy5fZWxJbWcuc3JjID0gdGhpcy5fbGluaztcclxuICAgICAgICB0aGlzLl9lbE5hbWUuaW5uZXJUZXh0ID0gdGhpcy5fbmFtZTtcclxuICAgICAgICB0aGlzLl9lbEltZy5hbHQgPSB0aGlzLl9uYW1lO1xyXG4gICAgXHJcbiAgICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIFxyXG4gICAgICAgIHRoaXMuX2NoZWNrSWQoKTtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLl95b3VyQ2FyZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9lbEJhc2tldC5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX2VsTGlrZU51bWJlci5pbm5lclRleHQgPSB0aGlzLl9jYXJkTGlrZXMubGVuZ3RoO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5faHRtbEVsZW1lbnQ7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIF9jaGVja0lkKCkge1xyXG4gICAgICAgIHRoaXMuX3VzZXJJZCA9PT0gdGhpcy5fb3duZXJJZC5faWRcclxuICAgICAgICA/IHRoaXMuX3lvdXJDYXJkID0gdHJ1ZVxyXG4gICAgICAgIDogdGhpcy5feW91ckNhcmQgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRMaWtlcyhsaWtlcykge1xyXG4gICAgICAgIHRoaXMuX2h0bWxFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19saWtlLW51bWJlcicpLmlubmVyVGV4dCA9IGxpa2VzO1xyXG4gICAgfVxyXG5cclxuICAgIF9yZW5kZXJMaWtlQnV0dG9uKGxpa2VkKSB7XHJcbiAgICAgICAgaWYgKGxpa2VkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2h0bWxFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19saWtlJykuY2xhc3NMaXN0LmFkZChcImVsZW1lbnRfX2xpa2VfYWN0aXZlXCIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2h0bWxFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19saWtlJykuY2xhc3NMaXN0LnJlbW92ZShcImVsZW1lbnRfX2xpa2VfYWN0aXZlXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRMaWtlcyhjYXJkKSB7XHJcbiAgICAgICAgdGhpcy5fbGlrZWQgPSAhdGhpcy5fbGlrZWQ7XHJcbiAgICAgICAgdGhpcy5zZXRMaWtlcyhjYXJkLmxpa2VzLmxlbmd0aCk7XHJcbiAgICAgICAgdGhpcy5fcmVuZGVyTGlrZUJ1dHRvbih0aGlzLl9saWtlZCk7XHJcbiAgICB9XHJcblxyXG4gICAgX2hhbmRsZUxpa2UoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9saWtlZCkge1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljaygpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRGlzbGlrZUNhcmQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlQ2FyZCgpIHtcclxuICAgICAgICB0aGlzLl9odG1sRWxlbWVudC5yZW1vdmUoKTtcclxuICAgICAgICB0aGlzLl9odG1sRWxlbWVudCA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLy/QntCx0YDQsNCx0L7RgtGH0LjQuiDRgdC+0LHRi9GC0LjQuVxyXG4gICAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHRoaXMuX2h0bWxFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19saWtlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVMaWtlLmJpbmQodGhpcykpO1xyXG4gICAgICAgIHRoaXMuX2h0bWxFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19iYXNrZXQnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHt0aGlzLl9oYW5kbGVEZWxldGVDbGljaygpfSk7XHJcbiAgICAgICAgdGhpcy5faHRtbEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2ltZycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge3RoaXMuX2hhbmRsZUNhcmRDbGljayh7bmFtZTogdGhpcy5fbmFtZSwgbGluazogdGhpcy5fbGlua30pfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENhcmQ7IiwiY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgICBjb25zdHJ1Y3RvcihlbmFibGVWYWxpZGF0aW9uRm9ybSwgcG9wdXBJbnB1dEZvcm0pIHtcclxuICAgICAgICB0aGlzLl9wb3B1cElucHV0Rm9ybSA9IHBvcHVwSW5wdXRGb3JtO1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBJbnB1dEZvcm0pO1xyXG4gICAgICAgIHRoaXMuX3BvcHVwQWJvdXRGb3JtID0gZW5hYmxlVmFsaWRhdGlvbkZvcm0ucG9wdXBBYm91dEZvcm07XHJcbiAgICAgICAgdGhpcy5fcG9wdXBTdWJtaXRGb3JtID0gZW5hYmxlVmFsaWRhdGlvbkZvcm0ucG9wdXBTdWJtaXRGb3JtO1xyXG4gICAgICAgIHRoaXMuX3BvcHVwU3VibWl0SW5hY3RpdmVGb3JtID0gZW5hYmxlVmFsaWRhdGlvbkZvcm0ucG9wdXBTdWJtaXRJbmFjdGl2ZUZvcm07XHJcbiAgICAgICAgdGhpcy5fcG9wdXBBYm91dEVycm9yRm9ybSA9IGVuYWJsZVZhbGlkYXRpb25Gb3JtLnBvcHVwQWJvdXRFcnJvckZvcm07XHJcbiAgICAgICAgdGhpcy5fcG9wdXBBYm91dFJlZExpbmVGb3JtID0gZW5hYmxlVmFsaWRhdGlvbkZvcm0ucG9wdXBBYm91dFJlZExpbmVGb3JtO1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9wb3B1cEZvcm0ucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9wb3B1cEFib3V0Rm9ybSkpO1xyXG4gICAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9wb3B1cEZvcm0ucXVlcnlTZWxlY3Rvcih0aGlzLl9wb3B1cFN1Ym1pdEZvcm0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBfc2hvd0lucHV0RXJyb3IocG9wdXBBYm91dCwgZXJyb3JNZXNzYWdlKSB7XHJcbiAgICAgICAgY29uc3QgcG9wdXBFcnJvciA9IHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yKGAjJHtwb3B1cEFib3V0LmlkfS1lcnJvcmApO1xyXG4gICAgICAgIHBvcHVwQWJvdXQuY2xhc3NMaXN0LmFkZCh0aGlzLl9wb3B1cEFib3V0UmVkTGluZUZvcm0pO1xyXG4gICAgICAgIHBvcHVwRXJyb3IuaW5uZXJUZXh0ID0gZXJyb3JNZXNzYWdlOyBcclxuICAgICAgICBwb3B1cEVycm9yLmNsYXNzTGlzdC5hZGQodGhpcy5fcG9wdXBBYm91dEVycm9yRm9ybSk7ICAgIFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBcclxuICAgIF9oaWRlSW5wdXRFcnJvcihwb3B1cEFib3V0KSB7XHJcbiAgICAgICAgY29uc3QgcG9wdXBFcnJvciA9IHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yKGAjJHtwb3B1cEFib3V0LmlkfS1lcnJvcmApOyAgICBcclxuICAgICAgICBwb3B1cEFib3V0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fcG9wdXBBYm91dFJlZExpbmVGb3JtKTtcclxuICAgICAgICBwb3B1cEVycm9yLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fcG9wdXBBYm91dEVycm9yRm9ybSk7ICAgIFxyXG4gICAgICAgIHBvcHVwRXJyb3IuaW5uZXJUZXh0ID0gXCJcIjtcclxuICAgIH1cclxuXHJcbiAgICBfZ2V0RXJyb3JNZXNzYWdlKHBvcHVwQWJvdXQpe1xyXG4gICAgICAgIHJldHVybiBwb3B1cEFib3V0LnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gICAgfTtcclxuXHJcbiAgICBcclxuICAgIF9jaGVja0lucHV0VmFsaWRpdHkocG9wdXBBYm91dCkge1xyXG4gICAgICAgIGlmICghcG9wdXBBYm91dC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSB0aGlzLl9nZXRFcnJvck1lc3NhZ2UocG9wdXBBYm91dCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihwb3B1cEFib3V0LCBlcnJvck1lc3NhZ2UpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKHBvcHVwQWJvdXQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgX2hhc0ludmFsaWRJbnB1dCgpIHtcclxuICAgICAgICByZXR1cm4gIHRoaXMuX2lucHV0TGlzdC5zb21lKChwb3B1cEFib3V0KSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiAhcG9wdXBBYm91dC52YWxpZGl0eS52YWxpZDtcclxuICAgICAgICB9KVxyXG4gICAgfTtcclxuXHJcblxyXG4gICAgX2Rpc2FibGVBZGQoKSB7XHJcbiAgICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3BvcHVwU3VibWl0SW5hY3RpdmVGb3JtKTtcclxuICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwidHJ1ZVwiKTtcclxuICAgIH07IFxyXG4gICAgXHJcbiAgICBfZGlzYWJsZVJlbW92ZSgpIHtcclxuICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fcG9wdXBTdWJtaXRJbmFjdGl2ZUZvcm0pO1xyXG4gICAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XHJcbiAgICB9XHJcblxyXG4gICAgXHJcbiAgICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpc2FibGVBZGQoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9kaXNhYmxlUmVtb3ZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSh0aGlzLl9pbnB1dExpc3QpO1xyXG4gICAgICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChwb3B1cEFib3V0KSA9PiB7XHJcbiAgICAgICAgICAgIHBvcHVwQWJvdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkocG9wdXBBYm91dCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSh0aGlzLl9pbnB1dExpc3QpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICB9IFxyXG5cclxuXHJcbiAgICBlbmFibGVWYWxpZGF0aW9uID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHN1Ym1pdEZvcm1IYW5kbGVyID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpc2FibGVBZGQoKTsgXHJcbiAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHN1Ym1pdEZvcm1IYW5kbGVyKTtcclxuICAgICAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBGb3JtVmFsaWRhdG9yOyIsImNsYXNzIFNlY3Rpb24ge1xyXG4gICAgY29uc3RydWN0b3Ioe2l0ZW1zLCByZW5kZXJlcn0sIHNlbGVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgICAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xyXG4gICAgICAgIHRoaXMuX3NlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVySXRlbXMoZWxlbWVudHMpIHtcclxuICAgICAgICBlbGVtZW50cy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcmVyKGVsZW1lbnQpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgYWRkSXRlbShjYXJkKSB7IFxyXG4gICAgICAgIHRoaXMuX3NlbGVjdG9yLnByZXBlbmQoY2FyZCk7XHJcbiAgICB9IFxyXG59XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2VjdGlvbjsiLCJjbGFzcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihtb2RhbFdpbmRvdykge1xyXG4gICAgICAgIHRoaXMuX21vZGFsV2luZG93ID0gbW9kYWxXaW5kb3c7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIF9oYW5kbGVFc2NDbG9zZShldmVudCkge1xyXG4gICAgICAgIGlmIChldmVudC5rZXkgPT09ICdFc2NhcGUnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb3BlbigpIHtcclxuICAgICAgICB0aGlzLl9tb2RhbFdpbmRvdy5jbGFzc0xpc3QuYWRkKCdwb3B1cF9pcy1vcGVuJyk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2UoKSB7XHJcbiAgICAgICAgdGhpcy5fbW9kYWxXaW5kb3cuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfaXMtb3BlbicpOyBcclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLl9tb2RhbFdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwX19jb250YWluZXJcIikgfHwgZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwX19jbG9zZVwiKSB8fCBldmVudC50YXJnZXQgPT09IGV2ZW50LmN1cnJlbnRUYXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQb3B1cDsiLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi9Qb3B1cC5qcyc7XHJcblxyXG5jbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKG1vZGFsV2luZG93KSB7XHJcbiAgICAgICAgc3VwZXIobW9kYWxXaW5kb3cpO1xyXG4gICAgICAgIHRoaXMuX3BvcHVwUGhvdG9CaWcgPSB0aGlzLl9tb2RhbFdpbmRvdy5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3Bob3RvLWJpZycpO1xyXG4gICAgICAgIHRoaXMuX3BvcHVwUGhvdG9FZGl0ID0gdGhpcy5fbW9kYWxXaW5kb3cucXVlcnlTZWxlY3RvcignLnBvcHVwX19waG90by1lZGl0Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgb3BlbihkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBQaG90b0JpZy5zcmMgPSBkYXRhLmxpbms7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBQaG90b0JpZy5hbHQgPSBkYXRhLml0ZW07XHJcbiAgICAgICAgdGhpcy5fcG9wdXBQaG90b0VkaXQuaW5uZXJUZXh0ID0gZGF0YS5pdGVtO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHN1cGVyLm9wZW4oKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUG9wdXBXaXRoSW1hZ2U7IiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnO1xyXG5cclxuY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKG1vZGFsV2luZG93LCBmb3JtU3VibWl0SGFuZGxlcikge1xyXG4gICAgICAgIHN1cGVyKG1vZGFsV2luZG93KTtcclxuICAgICAgICB0aGlzLl9mb3JtU3VibWl0SGFuZGxlciA9IGZvcm1TdWJtaXRIYW5kbGVyOyAgIFxyXG4gICAgICAgIHRoaXMuX2Zvcm1Gb3JQb3B1cCA9IHRoaXMuX21vZGFsV2luZG93LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXQnKTsgICAgXHJcbiAgICB9XHJcblxyXG4gICAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwQWJvdXQgPSAgdGhpcy5fZm9ybUZvclBvcHVwLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9fYWJvdXQnKTsgXHJcbiAgICAgICAgdGhpcy5fcG9wdXBGb3JtID0ge307ICBcclxuICAgICAgICB0aGlzLl9wb3B1cEFib3V0LmZvckVhY2goaW5wdXQgPT4gdGhpcy5fcG9wdXBGb3JtW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWUpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5fcG9wdXBGb3JtO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkgeyBcclxuICAgICAgICB0aGlzLl9tb2RhbFdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX2Zvcm1TdWJtaXRIYW5kbGVyKHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgXHJcbiAgICBjbG9zZSgpIHtcclxuICAgICAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgICAgIHRoaXMuX2Zvcm1Gb3JQb3B1cC5yZXNldCgpOyBcclxuICAgIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFBvcHVwV2l0aEZvcm07IiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnO1xyXG5cclxuY2xhc3MgUG9wdXBXaXRoU3VibWl0IGV4dGVuZHMgUG9wdXAge1xyXG5jb25zdHJ1Y3Rvcihtb2RhbFdpbmRvdywgZm9ybVN1Ym1pdEhhbmRsZXIpIHtcclxuICAgIHN1cGVyKG1vZGFsV2luZG93KTtcclxuICAgIHRoaXMuX2Zvcm1TdWJtaXRIYW5kbGVyID0gZm9ybVN1Ym1pdEhhbmRsZXI7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgICAgICB0aGlzLl9tb2RhbFdpbmRvdy5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3N1Ym1pdCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7IFxyXG5cclxuICAgICAgICAgICAgdGhpcy5fZm9ybVN1Ym1pdEhhbmRsZXIoKTtcclxuICAgICAgICB9KTsgICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHNldEZvcm1TdWJtaXRIYW5kbGVyKGhhbmRsZSkge1xyXG4gICAgICAgIHRoaXMuX2Zvcm1TdWJtaXRIYW5kbGVyID0gaGFuZGxlO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQb3B1cFdpdGhTdWJtaXQ7IiwiY2xhc3MgVXNlckluZm8ge1xyXG4gICAgY29uc3RydWN0b3Ioe25hbWUsIGFib3V0LCBhdmF0YXJ9KSB7ICAgICAgICBcclxuICAgICAgICB0aGlzLl9uYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLl9vY2N1cGF0aW9uID0gYWJvdXQ7XHJcbiAgICAgICAgdGhpcy5fYXZhdGFyID0gYXZhdGFyO1xyXG4gICAgICAgIHRoaXMuX3VzZXJJbmZvID0ge307XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbmFtZTogdGhpcy5fbmFtZS5pbm5lclRleHQsXHJcbiAgICAgICAgICAgIG9jY3VwYXRpb246IHRoaXMuX29jY3VwYXRpb24uaW5uZXJUZXh0LFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgc2V0VXNlckluZm8oaXRlbSkge1xyXG4gICAgICAgIGlmIChpdGVtLm5hbWUpIHtcclxuICAgICAgICAgICAgdGhpcy5fbmFtZS5pbm5lclRleHQgPSBpdGVtLm5hbWV9O1xyXG4gICAgICAgICAgICBpZihpdGVtLmFib3V0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX29jY3VwYXRpb24uaW5uZXJUZXh0ID0gaXRlbS5hYm91dH07XHJcbiAgICAgICAgICAgIGlmKGl0ZW0uYXZhdGFyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2F2YXRhci5zcmMgPSBpdGVtLmF2YXRhcn07ICBcclxuICAgICAgICB9XHJcbn1cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBVc2VySW5mbzsiLCJpbXBvcnQgJy4uL3BhZ2VzL2luZGV4LmNzcyc7XHJcblxyXG5pbXBvcnQgQXBpIGZyb20gJy4uL2NvbXBvbmVudHMvQXBpLmpzJztcclxuaW1wb3J0IENhcmQgZnJvbSAnLi4vY29tcG9uZW50cy/QoWFyZC5qcyc7XHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gJy4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyc7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gJy4uL2NvbXBvbmVudHMvU2VjdGlvbi5qcyc7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzJztcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzJztcclxuaW1wb3J0IFBvcHVwV2l0aFN1Ym1pdCBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aFN1Ym1pdC5qcyc7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tICcuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzJztcclxuXHJcblxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICAgIGJhc2VVcmw6ICdodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTE3JyxcclxuICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiAnODMzMmI1NWYtMTlkZi00YTAyLThhZTYtMmE4NDllY2MzZTFkJyxcclxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICB9XHJcbn0pO1xyXG5cclxuXHJcbi8v0YTQvtGA0LzQsCDQtNC70Y8g0LLQsNC70LjQtNCw0YbQuNC4XHJcbmNvbnN0IGVuYWJsZVZhbGlkYXRpb25Gb3JtID0ge1xyXG4gICAgcG9wdXBJbnB1dEZvcm06ICcucG9wdXBfX2lucHV0JyxcclxuICAgIHBvcHVwQWJvdXRGb3JtOiAnLnBvcHVwX19hYm91dCcsXHJcbiAgICBwb3B1cFN1Ym1pdEZvcm06ICcucG9wdXBfX3N1Ym1pdCcsXHJcbiAgICBwb3B1cFN1Ym1pdEluYWN0aXZlRm9ybTogJ3BvcHVwX19zdWJtaXRfaW5hY3RpdmUnLFxyXG4gICAgcG9wdXBJbnB1dE5hbWU6ICcucG9wdXBfX2lucHV0X25hbWUnLFxyXG4gICAgcG9wdXBJbnB1dFBob3RvQ2FyZDogJy5wb3B1cF9faW5wdXRfcGhvdG8tY2FyZCcsXHJcbiAgICBwb3B1cElucHV0TmV3QXZhdGFyOiAnLnBvcHVwX19pbnB1dF9uZXctYXZhdGFyJyxcclxuICAgIHBvcHVwQWJvdXRFcnJvckZvcm06ICdwb3B1cF9fYWJvdXQtZXJyb3InLFxyXG4gICAgcG9wdXBBYm91dFJlZExpbmVGb3JtOiAncG9wdXBfX2Fib3V0X3JlZC1saW5lJyxcclxufTtcclxuXHJcblxyXG5jb25zdCBwb3B1cFBob3RvQmlnQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fcGhvdG8tYmlnLWNhcmQnKTtcclxuY29uc3QgcG9wdXBQaG90b0RlbGV0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fcGhvdG8tZGVsZXRlJyk7XHJcbmNvbnN0IHBvcHVwUGhvdG9EZWxldGVDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3Bob3RvLWRlbGV0ZV9jb250YWluZXInKTtcclxuY29uc3QgcG9wdXBQaG90b0NhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfcGhvdG8tY2FyZCcpO1xyXG5jb25zdCBwb3B1cElucHV0TmFtZSA9ICcucG9wdXBfX2lucHV0X25hbWUnO1xyXG5jb25zdCBwb3B1cFN1Ym1pdFBob3RvQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fc3VibWl0X3Bob3RvLWNhcmQnKTtcclxuY29uc3QgcG9wdXBOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX25hbWUnKTtcclxuY29uc3QgcG9wdXBTdWJtaXROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19zdWJtaXRfbmFtZScpO1xyXG5jb25zdCBwb3B1cEFib3V0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fYWJvdXRfbmFtZScpO1xyXG5jb25zdCBwb3B1cEFib3V0T2NjdXBhdGlvbk5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Fib3V0X29jY3VwYXRpb25fbmFtZScpO1xyXG5jb25zdCBwb3B1cE5ld0F2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fbmV3LWF2YXRhcicpO1xyXG5jb25zdCBwb3B1cFN1Ym1pdE5ld0F2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fc3VibWl0X25ldy1hdmF0YXInKTtcclxuY29uc3QgcHJvZmlsZUFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hZGQtYnV0dG9uJyk7XHJcbmNvbnN0IHByb2ZpbGVFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYnV0dG9uJyk7XHJcbmNvbnN0IHByb2ZpbGVBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYXZhdGFyJyk7XHJcblxyXG5cclxuXHJcbmxldCB1c2VySWQ7XHJcblxyXG5Qcm9taXNlLmFsbChbYXBpLmdldEluaXRpYWxDYXJkcygpLCBhcGkuZ2V0VXNlckluZm9BYm91dCgpXSlcclxuICAgIC50aGVuKChbY2FyZCwgdXNlckRhdGEsIGltZ1NyY10pID0+IHsgXHJcbiAgICAgICAgdXNlcklkID0gdXNlckRhdGEuX2lkOyAgICAgICBcclxuICAgICAgICB1c2VySW5mby5zZXRVc2VySW5mbyh1c2VyRGF0YSwgaW1nU3JjKTtcclxuICAgICAgICBzZWN0aW9uLnJlbmRlckl0ZW1zKGNhcmQpO1xyXG4gICAgICAgIFxyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhg0J7RiNC40LHQutCwINC/0YDQuCDQv9C+0L/Ri9GC0LrQtSDQt9Cw0LPRgNGD0LfQuNGC0Ywg0LTQsNC90L3Ri9C1INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjyDQuCDQutCw0YDRgtC+0YfQutC4OiAke2Vycm9yfWApO1xyXG4gICAgfSk7XHJcblxyXG5cclxuY29uc3QgdXNlckVsZW1lbnRzID0ge1xyXG4gICAgbmFtZTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX25hbWUnKSwgXHJcbiAgICBhYm91dDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX29jY3VwYXRpb24nKSwgXHJcbiAgICBhdmF0YXI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hdmF0YXItaW1nJylcclxufVxyXG5cclxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8odXNlckVsZW1lbnRzKTtcclxuXHJcbmNvbnN0IHNlY3Rpb24gPSBuZXcgU2VjdGlvbih7XHJcbiAgICBlbGVtZW50OiBbXSxcclxuICAgIHJlbmRlcmVyOiAoY2FyZCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY3JlYXRlQ2FyZENvcHkoY2FyZCkuZ2VuZXJhdGVDYXJkKCk7XHJcbiAgICAgICAgc2VjdGlvbi5hZGRJdGVtKGNhcmRFbGVtZW50KTtcclxuICAgIH19LCAnLmVsZW1lbnRzJ1xyXG4pXHJcblxyXG4vL9CR0LvQvtC6INGA0LDQsdC+0YLQsCDRgSDQutCw0YDRgtC+0YfQutC+0LlcclxuLy/QodC+0LfQtNCw0L3QuNC1INC60LDRgNGC0L7Rh9C60LhcclxuY29uc3QgcG9wdXBXaXRoU3VibWl0ID0gbmV3IFBvcHVwV2l0aFN1Ym1pdChwb3B1cFBob3RvRGVsZXRlKTtcclxuXHJcbmNvbnN0IGNyZWF0ZUNhcmRDb3B5ID0gKGNhcmQpID0+IHtcclxuICAgIGNvbnN0IGNhcmRDb3B5ID0gbmV3IENhcmQgKHVzZXJJZCwgeyAgICAgICAgXHJcbiAgICAgICAgZGF0YTogY2FyZCwgXHJcbiAgICAgICAgaGFuZGxlQ2FyZENsaWNrOiAocG9wdXBQaG90b0JpZ0NhcmQpID0+IHsgXHJcbiAgICAgICAgICAgIHBvcHVwV2l0aEltYWdlQm94Lm9wZW4ocG9wdXBQaG90b0JpZ0NhcmQpOyBcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBoYW5kbGVMaWtlQ2xpY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgYXBpLmFkZExpa2VDYXJkKGNhcmQpXHJcbiAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2FyZENvcHkuZ2V0TGlrZXMocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gY29uc29sZS5sb2coYNCe0YjQuNCx0LrQsCDQv9GA0Lgg0LTQvtCx0LDQstC70LXQvdC40Lgg0LvQsNC50LrQsDogJHtlcnJvcn1gKSk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgaGFuZGxlRGlzbGlrZUNhcmQ6ICgpID0+IHtcclxuICAgICAgICAgICAgYXBpLmRlbGV0ZUxpa2VDYXJkKGNhcmQpXHJcbiAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2FyZENvcHkuZ2V0TGlrZXMocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gY29uc29sZS5sb2coYNCe0YjQuNCx0LrQsCDQv9GA0Lgg0YPQtNCw0LvQtdC90LjQuCDQu9Cw0LnQutCwOiAke2Vycm9yfWApKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBoYW5kbGVEZWxldGVDbGljazogKCkgPT4ge1xyXG4gICAgICAgICAgICBwb3B1cFdpdGhTdWJtaXQuc2V0Rm9ybVN1Ym1pdEhhbmRsZXIoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcG9wdXBQaG90b0RlbGV0ZUNvbnRhaW5lci5pbm5lclRleHQgPSBcItCj0LTQsNC70LXQvdC40LUuLi5cIjtcclxuICAgICAgICAgICAgICAgIGFwaS5kZWxldGVDYXJkKGNhcmQpICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHBvcHVwV2l0aFN1Ym1pdC5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBvcHVwUGhvdG9EZWxldGVDb250YWluZXIuaW5uZXJUZXh0ID0gXCLQlNCwXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FyZENvcHkucmVtb3ZlQ2FyZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IGNvbnNvbGUubG9nKGDQntGI0LjQsdC60LAg0L/RgNC4INGD0LTQsNC70LXQvdC40Lgg0LrQsNGA0YLQvtGH0LrQuDogJHtlcnJvcn1gKSlcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBwb3B1cFdpdGhTdWJtaXQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgICAgICAgICAgcG9wdXBXaXRoU3VibWl0Lm9wZW4oKVxyXG4gICAgICAgIH0sXHJcbiAgICB9LCAnLmVsZW1lbnQnKTtcclxuICAgICAgICByZXR1cm4gY2FyZENvcHk7XHJcbn1cclxuXHJcblxyXG5jb25zdCBwb3B1cFdpdGhJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZShwb3B1cFBob3RvQmlnQ2FyZCk7XHJcbnBvcHVwV2l0aEltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5cclxuLy8g0JTQvtCx0LDQstC70LXQvdC40LUg0LrQsNGA0YLQvtGH0LrQuFxyXG5jb25zdCBwb3B1cFdpdGhGb3JtQ2FyZCA9IG5ldyBQb3B1cFdpdGhGb3JtKCAgICBcclxuICAgIHBvcHVwUGhvdG9DYXJkLCAoY2FyZCkgPT4ge1xyXG4gICAgICAgIHBvcHVwU3VibWl0UGhvdG9DYXJkLmlubmVyVGV4dCA9ICfQodC+0YXRgNCw0L3QtdC90LjQtS4uLic7XHJcbiAgICAgICAgcG9wdXBJbnB1dE5hbWU7XHJcbiAgICAgICAgYXBpLmFkZE5ld0NhcmQoe1xyXG4gICAgICAgICAgICBuYW1lOiBjYXJkLm5hbWUsXHJcbiAgICAgICAgICAgIGxpbms6IGNhcmQuYWJvdXQsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4oKGNhcmRPYmplY3QpID0+IHtcclxuICAgICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNyZWF0ZUNhcmRDb3B5KGNhcmRPYmplY3QpLmdlbmVyYXRlQ2FyZCgpO1xyXG4gICAgICAgIHBvcHVwU3VibWl0UGhvdG9DYXJkLmlubmVyVGV4dCA9ICfQodC+0YXRgNCw0L3QuNGC0YwnO1xyXG4gICAgICAgIHBvcHVwV2l0aEZvcm1DYXJkLmNsb3NlKCk7XHJcbiAgICAgICAgc2VjdGlvbi5hZGRJdGVtKGNhcmRFbGVtZW50KTtcclxuICAgICAgICB9KVxyXG4gICAgLmNhdGNoKChlcnJvcikgPT4gY29uc29sZS5sb2coYNCe0YjQuNCx0LrQsCDQv9GA0Lgg0LTQvtCx0LDQstC70LXQvdC40Lgg0LrQsNGA0YLQvtGH0LrQuDogJHtlcnJvcn1gKSk7XHJcbn0pO1xyXG5cclxucG9wdXBXaXRoRm9ybUNhcmQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbnByb2ZpbGVBZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICBwb3B1cFdpdGhGb3JtQ2FyZC5vcGVuKCk7IFxyXG59KTtcclxuXHJcblxyXG5jb25zdCBwb3B1cFdpdGhJbWFnZUJveCA9IG5ldyBQb3B1cFdpdGhJbWFnZShwb3B1cFBob3RvQmlnQ2FyZCk7XHJcbnBvcHVwV2l0aEltYWdlQm94LnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5cclxuLy/QkdC70L7QuiDRgNCw0LHQvtGC0Ysg0YEg0LjQvdGE0L7RgNC80LDRhtC40LXQuVxyXG4vL9Cg0LXQtNCw0LrRgtC40YDQvtCy0LDRgtGMINC40LzRjyDQuCDRgNC+0LQg0LfQsNC90Y/RgtC40LlcclxuY29uc3QgcG9wdXBXaXRoRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gICAgcG9wdXBOYW1lLCAoY2FyZCkgPT4geyBcclxuICAgICAgICBwb3B1cElucHV0TmFtZTtcclxuICAgICAgICBwb3B1cFN1Ym1pdE5hbWUuaW5uZXJUZXh0ID0gJ9Ch0L7RhdGA0LDQvdC10L3QuNC1Li4uJztcclxuICAgICAgICBhcGkuY2hhbmdlSW5mbyhjYXJkKVxyXG4gICAgICAgIC50aGVuKHJlc3VsdCA9PiB7XHJcbiAgICAgICAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHtuYW1lOiByZXN1bHQubmFtZSwgYWJvdXQ6IHJlc3VsdC5hYm91dH0pOyBcclxuICAgICAgICAgICAgcG9wdXBTdWJtaXROYW1lLmlubmVyVGV4dCA9ICfQodC+0YXRgNCw0L3QuNGC0YwnO1xyXG4gICAgICAgICAgICBwb3B1cFdpdGhGb3JtLmNsb3NlKClcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChlcnJvciA9PiBjb25zb2xlLmxvZyhg0J7RiNC40LHQutCwINC/0YDQuCDQuNC30LzQtdC90LXQvdC40Lgg0LTQsNC90L3Ri9GFINC/0YDQvtGE0LjQu9GPOiAke2Vycm9yfWApKVxyXG4gICAgfSk7XHJcblxyXG5wb3B1cFdpdGhGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5wcm9maWxlRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIGNvbnN0IHtuYW1lLCBvY2N1cGF0aW9ufSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XHJcbiAgICBwb3B1cEFib3V0TmFtZS52YWx1ZSA9IG5hbWU7XHJcbiAgICBwb3B1cEFib3V0T2NjdXBhdGlvbk5hbWUudmFsdWUgPSBvY2N1cGF0aW9uO1xyXG4gICAgcG9wdXBXaXRoRm9ybS5vcGVuKCk7XHJcbn0pO1xyXG5cclxuXHJcbi8v0J/QvtC80LXQvdGP0YLRjCDQsNCy0LDRgtCw0YBcclxuY29uc3QgcG9wdXBXaXRoRm9ybUF2YXRhciA9IG5ldyBQb3B1cFdpdGhGb3JtIChcclxuICAgIHBvcHVwTmV3QXZhdGFyLCAoY2FyZCkgPT4geyBcclxuICAgICAgICBwb3B1cElucHV0TmFtZTsgIFxyXG4gICAgICAgIHBvcHVwU3VibWl0TmV3QXZhdGFyLmlubmVyVGV4dCA9ICfQodC+0YXRgNCw0L3QtdC90LjQtS4uLic7XHJcbiAgICAgICAgYXBpLmNoYW5nZVVzZXJBdmF0YXIoY2FyZClcclxuICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHthdmF0YXI6IHJlc3VsdC5hdmF0YXJ9KTtcclxuICAgICAgICAgICAgcG9wdXBTdWJtaXROZXdBdmF0YXIuaW5uZXJUZXh0ID0gJ9Ch0L7RhdGA0LDQvdC40YLRjCc7XHJcbiAgICAgICAgICAgIHBvcHVwV2l0aEZvcm1BdmF0YXIuY2xvc2UoKVxyXG4gICAgICAgIH0pICAgICAgICBcclxuICAgICAgICAuY2F0Y2goZXJyb3IgPT4gY29uc29sZS5sb2coYNCe0YjQuNCx0LrQsCDQv9GA0Lgg0LjQt9C80LXQvdC10L3QuNC4INCw0LLQsNGC0LDRgNCwOiAke2Vycm9yfWApKVxyXG4gICAgfVxyXG4pXHJcblxyXG5wb3B1cFdpdGhGb3JtQXZhdGFyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5wcm9maWxlQXZhdGFyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgcG9wdXBXaXRoRm9ybUF2YXRhci5vcGVuKCk7XHJcbiAgICB9XHJcbilcclxuXHJcblxyXG4vL9CS0LDQu9C40LTQsNGG0LjRjyBcclxuY29uc3QgZm9ybVZhbGlkYXRvck5ldyA9IG5ldyBGb3JtVmFsaWRhdG9yKGVuYWJsZVZhbGlkYXRpb25Gb3JtLCBlbmFibGVWYWxpZGF0aW9uRm9ybS5wb3B1cElucHV0TmFtZSk7XHJcbmNvbnN0IGZvcm1WYWxpZGF0b3JDYXJkID0gbmV3IEZvcm1WYWxpZGF0b3IoZW5hYmxlVmFsaWRhdGlvbkZvcm0sIGVuYWJsZVZhbGlkYXRpb25Gb3JtLnBvcHVwSW5wdXRQaG90b0NhcmQpO1xyXG5jb25zdCBmb3JtVmFsaWRhdG9yQXZhdGFyID0gbmV3IEZvcm1WYWxpZGF0b3IoZW5hYmxlVmFsaWRhdGlvbkZvcm0sIGVuYWJsZVZhbGlkYXRpb25Gb3JtLnBvcHVwSW5wdXROZXdBdmF0YXIpO1xyXG5cclxuZm9ybVZhbGlkYXRvck5ldy5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmZvcm1WYWxpZGF0b3JDYXJkLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuZm9ybVZhbGlkYXRvckF2YXRhci5lbmFibGVWYWxpZGF0aW9uKCk7Il0sInNvdXJjZVJvb3QiOiIifQ==